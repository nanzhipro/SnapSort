# SnapSort macOS App 设计规范

## 📋 总体设计原则

完全原生，遵从 Apple Interface Guidelines 规范，打造现代化、一致性的 macOS 应用体验。

## 🎨 视觉设计规范

### 图标系统

- **全程使用 SF Symbols 6**
- 优先使用 filled 版本图标提升视觉层次
- 图标尺寸：16pt（小图标）、20pt（标准）、24pt（大图标）

### 色彩规范

- **主色调**：SwiftUI Color Blue (`Color.blue`)
- **辅助色**：系统灰色调 (`Color.secondary`, `Color.gray`)
- **状态色**：
  - 成功：`Color.green`
  - 警告：`Color.orange`
  - 错误：`Color.red`
- **背景色**：
  - 主背景：`Color(.controlBackgroundColor)`
  - 卡片背景：`Color(.windowBackgroundColor)`

### 字体规范

- **标题字体**：系统默认字体，支持动态字体大小
- **正文字体**：系统默认字体
- **字体层次**：
  - `.largeTitle`：主标题
  - `.title2`：区域标题
  - `.headline`：重要信息
  - `.body`：正文内容
  - `.caption`：辅助信息

## 📐 布局规范

### 间距系统

- **水平边距**：24px（标准页面边距）
- **垂直间距**：20px（区域间距）
- **内容间距**：12px（元素间距）
- **紧密间距**：8px（相关元素间距）
- **松散间距**：32px（大区域分隔）

### 圆角规范

- **卡片圆角**：12px
- **按钮圆角**：8px
- **输入框圆角**：6px
- **小元素圆角**：4px

### 窗口尺寸

- **设置窗口**：640x520px（最小尺寸）
- **弹窗**：400x300px（标准尺寸）

## 🧩 组件设计规范

### 区域标题组件

```swift
// 标准格式：图标 + 标题
HStack {
    Image(systemName: "icon.name.fill")
        .foregroundColor(.blue)
    Text("区域标题")
        .font(.title2)
        .fontWeight(.semibold)
}
```

### 设置卡片组件

- 使用 `ScrollView` 替代 `Form` 获得更好的控制
- 统一的卡片样式：白色背景、12px圆角、细边框
- 内边距：16px

### 按钮样式

- **主要按钮**：`.borderedProminent` 样式
- **次要按钮**：`.bordered` 样式
- **文本按钮**：`.plain` 样式
- **危险操作**：红色主题

### 输入控件

- **Toggle**：使用系统默认样式，添加动画效果
- **TextField**：统一边框样式，聚焦状态高亮
- **Picker**：菜单样式，简洁明了

## 🎯 交互设计规范

### 动画效果

- **悬停效果**：轻微上移（-2px）+ 阴影增强
- **点击反馈**：0.1秒缩放动画
- **状态切换**：0.3秒缓动动画
- **页面切换**：系统默认转场动画

### 状态指示

- **加载状态**：`ProgressView` + 描述文字
- **空状态**：图标 + 说明文字 + 操作按钮
- **错误状态**：错误图标 + 错误信息 + 重试按钮

### 用户反馈

- **成功操作**：绿色图标 + 简短提示
- **错误操作**：红色图标 + 错误说明
- **警告信息**：橙色图标 + 警告内容

## 📱 界面布局规范

### 设置页面结构

1. **TabView 导航**：底部标签栏，使用 filled 图标
2. **页面布局**：ScrollView + VStack 结构
3. **内容组织**：按功能分组，使用区域标题分隔

### 表单设计

- **标签对齐**：左对齐，保持一致性
- **输入验证**：实时验证，错误状态明确
- **帮助文本**：使用 `.caption` 字体，灰色显示

## 🌐 国际化规范

### 文本处理

- 所有用户可见文本使用 `LocalizedStringKey`
- 支持中英日三语
- 文本长度适配，避免截断

### 布局适配

- 考虑不同语言的文本长度差异
- 使用弹性布局，避免固定宽度
- RTL 语言支持（未来扩展）

## ♿ 无障碍设计

### 语义化标记

- 为所有交互元素添加 `accessibilityLabel`
- 使用 `accessibilityHint` 提供操作指导
- 合理的 `accessibilityRole` 设置

### 键盘导航

- 支持 Tab 键导航
- 明确的焦点指示
- 快捷键支持

## 🔧 技术实现规范

### 架构模式

- **MVVM 架构**：View + ViewModel + Model
- **组件化设计**：可复用组件放在 `Views/Components`
- **模块分离**：清晰的文件组织结构

### 代码规范

- 遵循 Swift API Design Guidelines
- 使用 swift-format 格式化
- 完整的文档注释

### 性能优化

- 合理使用 `@State` 和 `@ObservedObject`
- 避免不必要的视图重绘
- 图片资源优化

## 📋 质量保证

### 测试规范

- 单元测试覆盖核心逻辑
- UI 测试覆盖关键流程
- 性能测试确保流畅体验

### 兼容性要求

- **最低系统版本**：macOS 15.0+
- **屏幕适配**：支持各种分辨率
- **深色模式**：完整支持

## 🚀 未来扩展

### 设计系统演进

- 建立完整的设计令牌系统
- 组件库标准化
- 设计文档自动化生成

### 用户体验优化

- 用户行为数据收集
- A/B 测试支持
- 个性化设置扩展

---

**版本**：v1.0  
**更新日期**：2025年1月4日  
**维护者**：SnapSort 开发团队
